<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbershop Gregorio Style</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>GREGORIO<span>STYLE</span></h2>
            </div>
            <ul class="nav-menu">
                <li><a href="#inicio" class="active">INICIO</a></li>
                <li><a href="#servicios">SERVICIOS</a></li>
                <li><a href="#barberos">BARBEROS</a></li>
                <li><a href="#galeria">GALERÍA</a></li>
                <li><a href="#reservas">RESERVAS</a></li>
            </ul>
            <button class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Progress Bar -->
    <div class="nav-scroll-progress">
        <div class="nav-scroll-progress-bar" id="scrollProgress"></div>
    </div>
    <div class="nav-current-section" id="currentSection">INICIO</div>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="video-background">
            <video autoplay muted loop playsinline>
                <source src="videos/barber.mp4" type="video/mp4">
                <div class="video-fallback"></div>
            </video>
            <div class="video-overlay"></div>
        </div>
        <div class="hero-content">
            <h3 class="hero-subtitle">BARBERSHOP</h3>
            <h1 class="hero-title">GREGORIO STYLE</h1>
            <p class="hero-description">TRADICIÓN Y PRECISIÓN EN CADA CORTE</p>
            <a href="#reservas" class="cta-button">
                <i class="fas fa-calendar-plus"></i>
                RESERVAR CITA
            </a>
        </div>
        <div class="hero-scroll">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>

    <!-- Services Section -->
    <section id="servicios" class="services">
        <div class="container">
            <h2 class="section-title">NUESTROS SERVICIOS</h2>
            <div class="services-categories">
                <button class="category-btn active" data-category="all">Todos</button>
                <button class="category-btn" data-category="clasico">Clásicos</button>
                <button class="category-btn" data-category="fade">Fades</button>
                <button class="category-btn" data-category="diseno">Con Diseño</button>
                <button class="category-btn" data-category="barba">Barba</button>
                <button class="category-btn" data-category="estetica">Estética</button>
                <button class="category-btn" data-category="complementario">Complementarios</button>
                <button class="category-btn" data-category="paquete">Paquetes</button>
            </div>
            <div class="services-grid" id="services-container">
                <!-- Los servicios se cargan con JavaScript -->
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-us">
        <div class="container">
            <h2 class="section-title">¿POR QUÉ ELEGIRNOS?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-cut"></i>
                    </div>
                    <h3>BARBEROS EXPERTOS</h3>
                    <p>Profesionales capacitados en las últimas tendencias y técnicas clásicas</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3>CALIDAD PREMIUM</h3>
                    <p>Utilizamos los mejores productos y herramientas del mercado</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>PUNTUALIDAD</h3>
                    <p>Respetamos tu tiempo con citas precisas y servicio eficiente</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>HIGIENE TOTAL</h3>
                    <p>Máximos estándares de limpieza y esterilización</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="barberos" class="team">
        <div class="container">
            <h2 class="section-title">NUESTROS BARBEROS</h2>
            <div class="team-grid">
                <div class="team-card">
                    <div class="team-image">
                        <img src="images/roberto.jpg" alt="Roberto Carlos - Especialista en Fades Modernos" loading="lazy">
                    </div>
                    <h3>ROBERTO CARLOS</h3>
                    <p class="team-specialty">Especialista en Fades Modernos</p>
                    <p class="team-exp">+3 años de experiencia</p>
                    <div class="team-social">
                        <span><i class="fas fa-star"></i> 4.9/5</span>
                    </div>
                </div>
                <div class="team-card">
                    <div class="team-image">
                        <img src="images/kevin.jpg" alt="Kevin Canaviri - Especialista en Barbas y Clásicos" loading="lazy">
                    </div>
                    <h3>KEVIN CANAVIRI</h3>
                    <p class="team-specialty">Especialista en Barbas y Clásicos</p>
                    <p class="team-exp">+2 años de experiencia</p>
                    <div class="team-social">
                        <span><i class="fas fa-star"></i> 4.8/5</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="galeria" class="gallery">
        <div class="container">
            <h2 class="section-title">NUESTROS TRABAJOS</h2>
            <p class="section-subtitle">Estilo y precisión en cada corte</p>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="images/cr1.jpg" alt="Mohicano con diseño - Gregorio Style" loading="lazy">
                    <div class="gallery-overlay">
                        <h4>MOHICANO CON DISEÑO</h4>
                        <p>Degradado impecable + diseño</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="images/cr2.jpg" alt="Mohicano bajo - Gregorio Style" loading="lazy">
                    <div class="gallery-overlay">
                        <h4>MOHICANO BAJO</h4>
                        <p>Diseño y perfilado profesional</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="images/cr3.jpg" alt="Mullet bajo comprimido - Gregorio Style" loading="lazy">
                    <div class="gallery-overlay">
                        <h4>MULLET BAJO COMPRIMIDO</h4>
                        <p>Elegancia y tradición</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="images/cr4.jpg" alt="Mullet alto con diseño - Gregorio Style" loading="lazy">
                    <div class="gallery-overlay">
                        <h4>MULLET ALTO CON DISEÑO</h4>
                        <p>Arte y precisión combinados</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Section - MEJORADO -->
    <section id="reservas" class="booking">
        <div class="container">
            <h2 class="section-title">RESERVA RÁPIDA</h2>
            
            <!-- Resumen flotante -->
            <div class="booking-summary-floating" id="floatingSummary">
                <div class="summary-floating-header">
                    <div class="summary-floating-title">TU RESERVA</div>
                </div>
                <div class="summary-floating-items" id="summaryItems">
                    <div class="summary-floating-item">
                        <span class="summary-floating-label">Servicio:</span>
                        <span class="summary-floating-value" id="summaryService">No seleccionado</span>
                    </div>
                    <div class="summary-floating-item">
                        <span class="summary-floating-label">Barbero:</span>
                        <span class="summary-floating-value" id="summaryBarber">Cualquiera</span>
                    </div>
                    <div class="summary-floating-item">
                        <span class="summary-floating-label">Fecha y Hora:</span>
                        <span class="summary-floating-value" id="summaryDateTime">No seleccionado</span>
                    </div>
                    <div class="summary-floating-total">
                        <div class="summary-floating-item">
                            <span class="summary-floating-label">Total:</span>
                            <span class="summary-floating-value" id="summaryTotal">Bs 0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formulario unificado -->
            <div class="booking-form-unified">
                <!-- Selección de servicio -->
                <div class="form-section">
                    <div class="form-section-header">
                        <div class="form-section-number">1</div>
                        <div>
                            <div class="form-section-title">Elige tu Servicio</div>
                            <div class="form-section-subtitle">Selecciona el corte o tratamiento que deseas</div>
                        </div>
                    </div>
                    
                    <div class="services-quick-grid" id="servicesQuickGrid">
                        <!-- Los servicios se cargan aquí dinámicamente -->
                    </div>
                </div>

                <!-- Selección de barbero -->
                <div class="form-section">
                    <div class="form-section-header">
                        <div class="form-section-number">2</div>
                        <div>
                            <div class="form-section-title">Elige tu Barbero</div>
                            <div class="form-section-subtitle">¿Tienes algún barbero preferido?</div>
                        </div>
                    </div>
                    
                    <div class="stylist-select-enhanced" id="stylistSelect">
                        <div class="stylist-option-quick selected" data-stylist="any">
                            <div class="stylist-option-content">
                                <div class="stylist-option-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stylist-option-info">
                                    <div class="stylist-option-name">Cualquier barbero disponible</div>
                                    <div class="stylist-option-desc">Te asignamos el mejor disponible</div>
                                </div>
                                <div class="stylist-option-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stylist-option-quick" data-stylist="1">
                            <div class="stylist-option-content">
                                <div class="stylist-option-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="stylist-option-info">
                                    <div class="stylist-option-name">Roberto Carlos</div>
                                    <div class="stylist-option-desc">Especialista en Fades Modernos</div>
                                </div>
                                <div class="stylist-option-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stylist-option-quick" data-stylist="2">
                            <div class="stylist-option-content">
                                <div class="stylist-option-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="stylist-option-info">
                                    <div class="stylist-option-name">Kevin Canaviri</div>
                                    <div class="stylist-option-desc">Especialista en Barbas y Clásicos</div>
                                </div>
                                <div class="stylist-option-check">
                                    <i class="fas fa-check"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Selección de fecha/hora -->
                <div class="form-section">
                    <div class="form-section-header">
                        <div class="form-section-number">3</div>
                        <div>
                            <div class="form-section-title">Elige Fecha y Hora</div>
                            <div class="form-section-subtitle">Encuentra un horario que te convenga</div>
                        </div>
                    </div>
                    
                    <div class="datetime-selector-enhanced">
                        <div class="date-selector-section">
                            <h4 class="datetime-section-title">Selecciona una fecha</h4>
                            <div class="date-picker-grid" id="datePicker">
                                <!-- Fechas se cargan dinámicamente -->
                            </div>
                        </div>
                        
                        <div class="time-selector-section">
                            <h4 class="datetime-section-title">Selecciona una hora</h4>
                            <div class="time-slots-grid" id="timeSlots">
                                <!-- Horarios se cargan dinámicamente -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Información personal -->
                <div class="form-section">
                    <div class="form-section-header">
                        <div class="form-section-number">4</div>
                        <div>
                            <div class="form-section-title">Tus Datos</div>
                            <div class="form-section-subtitle">Completa tu información para confirmar</div>
                        </div>
                    </div>
                    
                    <div class="client-info-enhanced">
                        <div class="form-group">
                            <label class="form-label required" for="clientName">Nombre completo</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="clientName" name="clientName" placeholder="Ingresa tu nombre completo" required>
                            </div>
                            <span class="form-helper">Ej: Juan Pérez García</span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required" for="clientPhone">Teléfono</label>
                            <div class="input-with-icon">
                                <i class="fas fa-phone"></i>
                                <input type="tel" id="clientPhone" name="clientPhone" placeholder="Ingresa tu número de teléfono" required>
                            </div>
                            <span class="form-helper">Ej: 72346861</span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required" for="clientEmail">Email</label>
                            <div class="input-with-icon">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="clientEmail" name="clientEmail" placeholder="Ingresa tu email" required>
                            </div>
                            <span class="form-helper">Ej: tuemail@ejemplo.com</span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="clientNotes">Notas adicionales (opcional)</label>
                            <textarea id="clientNotes" name="clientNotes" placeholder="¿Alguna preferencia especial o comentario?" rows="3"></textarea>
                            <span class="form-helper">Ej: Quiero el mismo corte de la foto #3</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botones de acción sticky -->
            <div class="action-buttons-sticky">
                <button class="btn-action-secondary" onclick="resetBookingForm()">
                    <i class="fas fa-redo"></i> Reiniciar
                </button>
                <button class="btn-action-primary" onclick="confirmBooking()">
                    <i class="fas fa-calendar-check"></i> Confirmar Reserva
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>GREGORIO STYLE</h3>
                    <p>Barbería premium donde la tradición se encuentra con el estilo moderno. Expertos en cortes clásicos y tendencias actuales.</p>
                    <div class="footer-social">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>CONTACTO</h4>
                    <p><i class="fas fa-map-marker-alt"></i> Ecuador y Pasaje del Maestro, Cochabamba</p>
                    <p><i class="fas fa-phone"></i> 72346861</p>
                    <p><i class="fas fa-envelope"></i> info@gregoriostyle.com</p>
                    <p><i class="fas fa-clock"></i> Lun-Sáb: 8:00-12:00 / 14:00-20:00</p>
                    <p><i class="fas fa-clock"></i> Domingos: Cerrado</p>
                </div>
                <div class="footer-section">
                    <h4>ENLACES RÁPIDOS</h4>
                    <p><a href="#servicios"><i class="fas fa-cut"></i> Nuestros Servicios</a></p>
                    <p><a href="#barberos"><i class="fas fa-user"></i> Nuestros Barberos</a></p>
                    <p><a href="#galeria"><i class="fas fa-images"></i> Galería</a></p>
                    <p><a href="#reservas"><i class="fas fa-calendar"></i> Reservar Cita</a></p>
                    <p><a href="#"><i class="fas fa-question-circle"></i> Preguntas Frecuentes</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Barbershop Gregorio Style. Todos los derechos reservados.</p>
                <p>Diseñado con <i class="fas fa-heart" style="color: var(--dorado-premium);"></i> para amantes del buen estilo</p>
            </div>
        </div>
    </footer>

    <!-- Panel Admin Button -->
    <div class="admin-button-container">
        <button onclick="togglePanelAdmin()" class="admin-button">
            <i class="fas fa-calendar-alt"></i> Ver Reservas
        </button>
    </div>

    <!-- Panel Admin Modal -->
    <div id="modalAdmin" class="admin-modal">
        <div class="admin-modal-content">
            <div class="admin-header">
                <div>
                    <h2><i class="fas fa-calendar-alt"></i> Calendario de Reservas</h2>
                    <p>Gregorio Style - Panel de Administración</p>
                </div>
                <button onclick="togglePanelAdmin()" class="admin-close-btn">
                    <i class="fas fa-times"></i> Cerrar
                </button>
            </div>

            <div class="admin-filters">
                <div class="filter-group">
                    <label><i class="fas fa-calendar"></i> Filtrar por Fecha</label>
                    <input type="date" id="filtroFecha" onchange="filtrarReservas()">
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-user"></i> Filtrar por Barbero</label>
                    <select id="filtroBarbero" onchange="filtrarReservas()">
                        <option value="">Todos los barberos</option>
                        <option value="Roberto Carlos">Roberto Carlos</option>
                        <option value="Kevin Canaviri">Kevin Canaviri</option>
                    </select>
                </div>
                <button onclick="cargarCalendario()" class="admin-refresh-btn">
                    <i class="fas fa-sync-alt"></i> Actualizar
                </button>
            </div>

            <div id="estadisticas" class="admin-stats">
                <!-- Las estadísticas se cargan con JavaScript -->
            </div>

            <div class="admin-reservas">
                <h3><i class="fas fa-list"></i> Lista de Reservas</h3>
                <div id="listaReservas">
                    <!-- Las reservas se cargan aquí -->
                </div>
            </div>
        </div>
    </div>

    <!-- Sistema de Ayuda Contextual -->
    <div class="context-help">
        <button class="help-button" id="helpButton">
            <i class="fas fa-question"></i>
        </button>
        <div class="help-panel" id="helpPanel">
            <div class="help-title">¿Necesitas Ayuda?</div>
            <div class="help-tips">
                <div class="help-tip">
                    <i class="fas fa-info-circle"></i>
                    <span>Selecciona un servicio, barbero y horario disponible</span>
                </div>
                <div class="help-tip">
                    <i class="fas fa-clock"></i>
                    <span>Las horas en verde están disponibles</span>
                </div>
                <div class="help-tip">
                    <i class="fas fa-check"></i>
                    <span>Revisa tu resumen antes de confirmar</span>
                </div>
                <div class="help-tip">
                    <i class="fas fa-phone"></i>
                    <span>¿Problemas? Llámanos: 72346861</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Procesando tu reserva</div>
        <div class="loading-subtext">Por favor espera...</div>
    </div>

    <!-- Scripts -->
    <script src="main.js"></script>
    <script src="animaciones.js"></script>
    
    <!-- Script adicional para las nuevas funcionalidades -->
    <script>
        // Sistema de navegación mejorado
        document.addEventListener('DOMContentLoaded', function() {
            // Barra de progreso de scroll
            window.addEventListener('scroll', function() {
                const winHeight = window.innerHeight;
                const docHeight = document.documentElement.scrollHeight;
                const scrollTop = window.pageYOffset;
                const scrollPercent = (scrollTop / (docHeight - winHeight)) * 100;
                document.getElementById('scrollProgress').style.width = scrollPercent + '%';
            });

            // Indicador de sección actual
            const sections = document.querySelectorAll('section');
            const currentSectionEl = document.getElementById('currentSection');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionName = entry.target.id.toUpperCase();
                        currentSectionEl.textContent = sectionName === 'INICIO' ? 'INICIO' : sectionName;
                        currentSectionEl.classList.add('visible');
                        
                        // Actualizar navegación activa
                        document.querySelectorAll('.nav-menu a').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === '#' + entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { threshold: 0.5 });

            sections.forEach(section => observer.observe(section));

            // Sistema de ayuda contextual
            const helpButton = document.getElementById('helpButton');
            const helpPanel = document.getElementById('helpPanel');
            
            helpButton.addEventListener('click', function() {
                helpPanel.classList.toggle('visible');
            });

            // Cerrar ayuda al hacer click fuera
            document.addEventListener('click', function(e) {
                if (!helpButton.contains(e.target) && !helpPanel.contains(e.target)) {
                    helpPanel.classList.remove('visible');
                }
            });

            // Cargar servicios en el formulario rápido
            cargarServiciosRapidos();
            
            // Cargar fechas y horarios
            cargarFechasDisponibles();
            cargarHorariosDisponibles();
        });

        // Funciones para el formulario de reserva rápido
        function cargarServiciosRapidos() {
            const container = document.getElementById('servicesQuickGrid');
            if (!container) return;

            // Servicios de ejemplo - se integrará con el sistema existente
            const serviciosEjemplo = [
                { id: 1, nombre: "Corte Clásico", precio: 40, duracion: 30, icono: "fas fa-scissors" },
                { id: 9, nombre: "Low Fade", precio: 40, duracion: 45, icono: "fas fa-cut" },
                { id: 25, nombre: "Fade con Diseño", precio: 60, duracion: 70, icono: "fas fa-pen-nib" },
                { id: 28, nombre: "Recorte Barba", precio: 15, duracion: 20, icono: "fas fa-leaf" },
                { id: 41, nombre: "Paquete Básico", precio: 80, duracion: 75, icono: "fas fa-gem" },
                { id: 33, nombre: "Limpieza Facial", precio: 60, duracion: 40, icono: "fas fa-spa" }
            ];

            container.innerHTML = serviciosEjemplo.map(servicio => `
                <div class="service-quick-card" data-service-id="${servicio.id}" onclick="seleccionarServicio(${servicio.id})">
                    <div class="service-quick-icon">
                        <i class="${servicio.icono}"></i>
                    </div>
                    <div class="service-quick-name">${servicio.nombre}</div>
                    <div class="service-quick-price">Bs ${servicio.precio}</div>
                    <div class="service-quick-duration">${servicio.duracion} min</div>
                </div>
            `).join('');
        }

        function seleccionarServicio(servicioId) {
            // Remover selección anterior
            document.querySelectorAll('.service-quick-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Agregar selección nueva
            const selectedCard = document.querySelector(`[data-service-id="${servicioId}"]`);
            if (selectedCard) {
                selectedCard.classList.add('selected');
                
                // Actualizar resumen
                const servicio = obtenerServicioPorId(servicioId);
                if (servicio) {
                    document.getElementById('summaryService').textContent = servicio.nombre;
                    document.getElementById('summaryTotal').textContent = `Bs ${servicio.precio}`;
                    actualizarResumenCompleto();
                }
            }
        }

        function obtenerServicioPorId(id) {
            // Esta función se integrará con el sistema existente de servicios
            const serviciosEjemplo = [
                { id: 1, nombre: "Corte Clásico", precio: 40, duracion: 30 },
                { id: 9, nombre: "Low Fade", precio: 40, duracion: 45 },
                { id: 25, nombre: "Fade con Diseño", precio: 60, duracion: 70 },
                { id: 28, nombre: "Recorte de Barba", precio: 15, duracion: 20 },
                { id: 41, nombre: "Paquete Básico", precio: 80, duracion: 75 },
                { id: 33, nombre: "Limpieza Facial", precio: 60, duracion: 40 }
            ];
            return serviciosEjemplo.find(s => s.id === id);
        }

        // Selector de barbero mejorado
        document.querySelectorAll('.stylist-option-quick').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.stylist-option-quick').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
                
                const stylistName = this.getAttribute('data-stylist') === 'any' ? 
                    'Cualquiera disponible' : 
                    this.querySelector('.stylist-option-name').textContent;
                
                document.getElementById('summaryBarber').textContent = stylistName;
                actualizarResumenCompleto();
            });
        });

        // Funciones de fecha y hora
        function cargarFechasDisponibles() {
            const container = document.getElementById('datePicker');
            if (!container) return;

            const hoy = new Date();
            const fechas = [];
            
            // Generar próximos 7 días
            for (let i = 0; i < 7; i++) {
                const fecha = new Date();
                fecha.setDate(hoy.getDate() + i);
                fechas.push(fecha);
            }

            container.innerHTML = fechas.map((fecha, index) => {
                const diaSemana = fecha.toLocaleDateString('es-ES', { weekday: 'short' });
                const diaNumero = fecha.getDate();
                const mes = fecha.toLocaleDateString('es-ES', { month: 'short' });
                const fechaString = fecha.toISOString().split('T')[0];
                
                return `
                    <div class="date-option ${index === 0 ? 'selected' : ''}" data-date="${fechaString}" onclick="seleccionarFecha('${fechaString}')">
                        <div class="date-day">${diaSemana}</div>
                        <div class="date-number">${diaNumero}</div>
                        <div class="date-month">${mes}</div>
                    </div>
                `;
            }).join('');
        }

        function cargarHorariosDisponibles() {
            const container = document.getElementById('timeSlots');
            if (!container) return;

            const horarios = ['08:00', '09:00', '10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00'];
            
            container.innerHTML = horarios.map(hora => {
                const disponible = Math.random() > 0.3; // Simulación de disponibilidad
                return `
                    <div class="time-slot ${disponible ? 'available' : 'unavailable'}" data-time="${hora}" onclick="${disponible ? `seleccionarHora('${hora}')` : ''}">
                        ${hora}
                    </div>
                `;
            }).join('');
        }

        function seleccionarFecha(fecha) {
            document.querySelectorAll('.date-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.querySelector(`[data-date="${fecha}"]`).classList.add('selected');
            actualizarResumenCompleto();
        }

        function seleccionarHora(hora) {
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            document.querySelector(`[data-time="${hora}"]`).classList.add('selected');
            
            const fechaSeleccionada = document.querySelector('.date-option.selected').getAttribute('data-date');
            const fechaFormateada = new Date(fechaSeleccionada).toLocaleDateString('es-ES');
            document.getElementById('summaryDateTime').textContent = `${fechaFormateada} - ${hora}`;
            actualizarResumenCompleto();
        }

        function actualizarResumenCompleto() {
            // Lógica para actualizar el resumen completo
            console.log('Resumen actualizado');
        }

        function resetBookingForm() {
            if (confirm('¿Estás seguro de que quieres reiniciar el formulario? Se perderán todos los datos.')) {
                document.querySelectorAll('.service-quick-card, .stylist-option-quick, .date-option, .time-slot').forEach(el => {
                    el.classList.remove('selected');
                });
                
                // Seleccionar primeras opciones por defecto
                document.querySelector('.stylist-option-quick').classList.add('selected');
                document.querySelector('.date-option').classList.add('selected');
                
                // Limpiar resumen
                document.getElementById('summaryService').textContent = 'No seleccionado';
                document.getElementById('summaryBarber').textContent = 'Cualquiera';
                document.getElementById('summaryDateTime').textContent = 'No seleccionado';
                document.getElementById('summaryTotal').textContent = 'Bs 0';
                
                // Limpiar formulario
                document.getElementById('clientName').value = '';
                document.getElementById('clientPhone').value = '';
                document.getElementById('clientEmail').value = '';
                document.getElementById('clientNotes').value = '';
                
                mostrarAlerta('Formulario reiniciado correctamente', 'success');
            }
        }

        function confirmBooking() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            loadingOverlay.classList.add('active');
            
            // Simular procesamiento
            setTimeout(() => {
                loadingOverlay.classList.remove('active');
                mostrarAlerta('¡Reserva confirmada! Te hemos enviado un correo de confirmación.', 'success');
                lanzarConfeti();
                
                // Aquí se integraría con el sistema de reservas existente
                console.log('Reserva confirmada');
            }, 2000);
        }

        // Funciones de utilidad
        function mostrarAlerta(mensaje, tipo = 'success') {
            // Usar la función existente del sistema
            if (window.mostrarAlerta) {
                window.mostrarAlerta(mensaje, tipo);
            } else {
                alert(mensaje);
            }
        }

        function lanzarConfeti() {
            // Usar la función existente del sistema
            if (window.lanzarConfeti) {
                window.lanzarConfeti();
            }
        }
    </script>
</body>
</html>